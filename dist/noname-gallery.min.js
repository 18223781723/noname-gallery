(function(){'use strict';function a(a){this.options=Object.assign({},this.defaults,a),this.container=null,this.bg=null,this.wrap=null,this.counter=null,this.imgList=null,this.bgOpacity=1,this.windowWidth=0,this.windowHeight=0,this.previewList=[],this.index=this.options.index,this.wrapWidth=0,this.wrapX=0,this.currentImg={x:0,y:0,width:0,height:0,scale:1,status:""},this.pointers=[],this.point={x:0,y:0},this.point2={x:0,y:0},this.diff={x:0,y:0},this.distance={x:0,y:0},this.lastDistance={x:0,y:0},this.lastPoint={x:0,y:0},this.lastMove={x:0,y:0},this.lastCenter={x:0,y:0},this.lastScale=1,this.tapCount=0,this.dragDirection="",this.dragTarget="",this.isPointerdown=!1,this.tapTimeout=null,this.pointerdownTime=null,this.pointermoveTime=null,this.pinchTime=null,this.isAnimating=!1,this.rafId=null}a.prototype.defaults={list:[],index:0,fadeInOut:!0,useTransition:!0,verticalZoom:!0,openKeyboard:!1,zoomToScreenCenter:!1,duration:300,minScale:1.5},a.prototype.init=function(){if(0===this.options.list.length)throw new Error("options.list can not be empty array");this.setWindowSize(),this.setPreviewList();const a=this.previewList[this.index];this.setCurrentImg(a.x,a.y,a.width,a.height,1,""),this.setWrap(),this.render(),this.setProperties(),this.open(),setTimeout(()=>{this.bindEventListener()},this.options.duration)},a.prototype.setWindowSize=function(){this.windowWidth=window.innerWidth,this.windowHeight=window.innerHeight},a.prototype.setPreviewList=function(){this.previewList=[];for(const a of this.options.list){const b=this.getImgSize(a.naturalWidth,a.naturalHeight,this.windowWidth,this.windowHeight),c=a.getBoundingClientRect(),d=Math.max(this.decimal(a.naturalWidth/b.width,5),this.options.minScale);this.previewList.push({x:this.decimal((this.windowWidth-b.width)/2,2),y:this.decimal((this.windowHeight-b.height)/2,2),width:this.decimal(b.width,2),height:this.decimal(b.height,2),maxWidth:this.decimal(b.width*d,2),maxHeight:this.decimal(b.height*d,2),maxScale:d,thumbnail:{x:this.decimal(c.left,2),y:this.decimal(c.top,2),width:this.decimal(c.width,2),height:this.decimal(c.height,2),scaleX:this.decimal(c.width/b.width,5),scaleY:this.decimal(c.height/b.height,5)}})}},a.prototype.setCurrentImg=function(a,b,c,d,e,f){this.currentImg={x:a,y:b,width:c,height:d,scale:e,status:f}},a.prototype.setWrap=function(){this.wrapWidth=this.previewList.length*this.windowWidth,this.wrapX=-1*(this.index*this.windowWidth)},a.prototype.render=function(){let a="opacity: 0;";this.options.useTransition&&(a+=" transition: opacity "+this.options.duration+"ms ease-out;");let b="<div class=\"noname-gallery-container\"><div class=\"noname-gallery-bg\" style=\""+a+"\"></div><div class=\"noname-gallery-counter\">"+(this.options.index+1)+" / "+this.options.list.length+"</div><ul class=\"noname-gallery-wrap\" style=\"width: "+this.wrapWidth+"px; transform: translate3d("+this.wrapX+"px, 0, 0)\">";for(let c=0,d=this.options.list.length;c<d;c++){const d=this.previewList[c];a="",this.options.useTransition?(a="width: "+d.width+"px; height: "+d.height+"px;",this.index===c?(a+="transform: translate3d("+d.thumbnail.x+"px, "+d.thumbnail.y+"px, 0) scale("+d.thumbnail.scaleX+", "+d.thumbnail.scaleY+");",this.options.fadeInOut&&(a+=" opacity: 0;")):a+="transform: translate3d("+d.x+"px, "+d.y+"px, 0) scale(1);",a+=" transition: transform "+this.options.duration+"ms ease-out, opacity "+this.options.duration+"ms ease-out;"):this.index===c?(a="width: "+d.thumbnail.width+"px; height: "+d.thumbnail.height+"px;",a+=" transform: translate3d("+d.thumbnail.x+"px, "+d.thumbnail.y+"px, 0);",this.options.fadeInOut&&(a+=" opacity: 0;")):(a="width: "+d.width+"px; height: "+d.height+"px;",a+=" transform: translate3d("+d.x+"px, "+d.y+"px, 0);"),a+=" cursor: zoom-in;",b+="<li><img class=\"noname-gallery-img\" src=\""+this.options.list[c].src+"\" alt=\"\" style=\""+a+"\"></li>"}b+="</ul></div>",document.body.insertAdjacentHTML("beforeend",b)},a.prototype.setProperties=function(){this.container=document.querySelector(".noname-gallery-container"),this.wrap=document.querySelector(".noname-gallery-wrap"),this.bg=document.querySelector(".noname-gallery-bg"),this.counter=document.querySelector(".noname-gallery-counter"),this.imgList=document.querySelectorAll(".noname-gallery-img");for(let a=0,b=this.imgList.length;a<b;a++)this.previewList[a].element=this.imgList[a]},a.prototype.open=function(){const a=this.previewList[this.index];this.options.useTransition?(window.getComputedStyle(a.element).opacity,this.bg.style.opacity="1",this.options.fadeInOut&&(a.element.style.opacity="1"),a.element.style.transform="translate3d("+a.x+"px,"+a.y+"px, 0) scale(1)"):this.raf(b=>{const c=this.decimal(this.easeOut(0,1,b,this.options.duration),5);this.bg.style.opacity=c;const d=this.decimal(this.easeOut(a.thumbnail.width,a.width,b,this.options.duration),2),e=this.decimal(this.easeOut(a.thumbnail.height,a.height,b,this.options.duration),2),f=this.decimal(this.easeOut(a.thumbnail.x,a.x,b,this.options.duration),2),g=this.decimal(this.easeOut(a.thumbnail.y,a.y,b,this.options.duration),2);a.element.style.width=d+"px",a.element.style.height=e+"px",a.element.style.transform="translate3d("+f+"px, "+g+"px, 0)",this.options.fadeInOut&&(a.element.style.opacity=c)},this.options.duration)},a.prototype.close=function(){const a=this.previewList[this.index];this.options.useTransition?(this.options.fadeInOut&&(a.element.style.opacity="0"),a.element.style.transition="transform "+this.options.duration+"ms ease-out, opacity "+this.options.duration+"ms ease-out",a.element.style.transform="translate3d("+a.thumbnail.x+"px, "+a.thumbnail.y+"px, 0) scale("+a.thumbnail.scaleX+", "+a.thumbnail.scaleY+")",this.bg.style.transition="opacity "+this.options.duration+"ms ease-out",this.bg.style.opacity="0"):this.raf(b=>{const c=this.decimal(this.easeOut(this.bgOpacity,0,b,this.options.duration),5);this.bg.style.opacity=c;const d=this.decimal(this.easeOut(this.currentImg.width,a.thumbnail.width,b,this.options.duration),2),e=this.decimal(this.easeOut(this.currentImg.height,a.thumbnail.height,b,this.options.duration),2),f=this.decimal(this.easeOut(this.currentImg.x,a.thumbnail.x,b,this.options.duration),2),g=this.decimal(this.easeOut(this.currentImg.y,a.thumbnail.y,b,this.options.duration),2);if(a.element.style.width=d+"px",a.element.style.height=e+"px",a.element.style.transform="translate3d("+f+"px, "+g+"px, 0)",this.options.fadeInOut){const c=this.decimal(this.easeOut(1,0,b,this.options.duration),5);a.element.style.opacity=c}},this.options.duration),this.unbindEventListener(),setTimeout(()=>{this.container.remove()},this.options.duration),this.tapCount=0},a.prototype.bindEventListener=function(){this.handlePointerdown=this.handlePointerdown.bind(this),this.handlePointermove=this.handlePointermove.bind(this),this.handlePointerup=this.handlePointerup.bind(this),this.handlePointercancel=this.handlePointercancel.bind(this),this.handleResize=this.handleResize.bind(this),this.container.addEventListener("pointerdown",this.handlePointerdown),this.container.addEventListener("pointermove",this.handlePointermove),this.container.addEventListener("pointerup",this.handlePointerup),this.container.addEventListener("pointercancel",this.handlePointercancel),window.addEventListener("resize",this.handleResize),window.addEventListener("orientationchange",this.handleResize),this.options.openKeyboard&&(this.handleKeydown=this.handleKeydown.bind(this),window.addEventListener("keydown",this.handleKeydown))},a.prototype.unbindEventListener=function(){this.container.removeEventListener("pointerdown",this.handlePointerdown),this.container.removeEventListener("pointermove",this.handlePointermove),this.container.removeEventListener("pointerup",this.handlePointerup),this.container.removeEventListener("pointercancel",this.handlePointercancel),window.removeEventListener("resize",this.handleResize),window.removeEventListener("orientationchange",this.handleResize),this.options.openKeyboard&&window.removeEventListener("keydown",this.handleKeydown)},a.prototype.handlePointerdown=function(a){"mouse"===a.pointerType&&0!==a.button||this.isAnimating||(this.pointers.push(a),this.point={x:this.pointers[0].clientX,y:this.pointers[0].clientY},1===this.pointers.length?(this.container.setPointerCapture(a.pointerId),this.isPointerdown=!0,this.tapCount++,this.dragDirection="",this.dragTarget="",this.distance={x:0,y:0},this.lastDistance={x:0,y:0},this.pointerdownTime=Date.now(),this.pinchTime=null,this.lastMove={x:this.pointers[0].clientX,y:this.pointers[0].clientY},1<this.tapCount&&(30<Math.abs(this.point.x-this.lastPoint.x)||30<Math.abs(this.point.y-this.lastPoint.y))&&(this.tapCount=1),clearTimeout(this.tapTimeout),window.cancelAnimationFrame(this.rafId),this.lastPoint={x:this.pointers[0].clientX,y:this.pointers[0].clientY}):2===this.pointers.length&&(this.point2={x:this.pointers[1].clientX,y:this.pointers[1].clientY},""===this.dragTarget&&(this.dragTarget="img"),this.tapCount=0,this.lastScale=1,this.lastCenter=this.getCenter(this.point,this.point2),this.lastDistance={x:this.distance.x,y:this.distance.y}))},a.prototype.handlePointermove=function(a){if(this.isPointerdown){this.handlePointers(a,"update");const b={x:a.clientX,y:a.clientY};1===this.pointers.length?"shrink"!==this.currentImg.status&&(this.diff={x:b.x-this.lastMove.x,y:b.y-this.lastMove.y},this.distance={x:b.x-this.point.x+this.lastDistance.x,y:b.y-this.point.y+this.lastDistance.y},this.lastMove={x:b.x,y:b.y},this.pointermoveTime=Date.now(),""===this.dragDirection&&""===this.dragTarget&&(10<Math.abs(this.distance.x)||10<Math.abs(this.distance.y))&&(this.tapCount=0,this.getDragDirection(),this.getDragTarget()),"wrap"===this.dragTarget?this.handleWrapPointermove():"img"===this.dragTarget&&this.handleImgPointermove()):2===this.pointers.length&&"img"===this.dragTarget&&"verticalToClose"!==this.currentImg.status&&this.handlePinch(a),a.preventDefault()}},a.prototype.handlePointerup=function(a){this.isPointerdown&&(this.handlePointers(a,"delete"),0===this.pointers.length?(this.isPointerdown=!1,0===this.tapCount?"wrap"===this.dragTarget?this.handleWrapPointerup():"img"===this.dragTarget&&this.handleImgPointerup():1===this.tapCount?"mouse"===a.pointerType?a.clientX>=this.currentImg.x&&a.clientX<=this.currentImg.x+this.currentImg.width&&a.clientY>=this.currentImg.y&&a.clientY<=this.currentImg.y+this.currentImg.height?this.handleZoom({x:a.clientX,y:a.clientY}):this.close():500>Date.now()-this.pointerdownTime?this.tapTimeout=setTimeout(()=>{this.close()},250):this.tapCount=0:1<this.tapCount&&this.handleZoom({x:a.clientX,y:a.clientY})):1===this.pointers.length&&(this.point={x:this.pointers[0].clientX,y:this.pointers[0].clientY},this.lastMove={x:this.pointers[0].clientX,y:this.pointers[0].clientY}))},a.prototype.handlePointercancel=function(){this.tapCount=0,this.isPointerdown=!1,this.pointers.length=0},a.prototype.handlePointers=function(a,b){for(let c=0;c<this.pointers.length;c++)this.pointers[c].pointerId===a.pointerId&&("update"===b?this.pointers[c]=a:"delete"==b&&this.pointers.splice(c,1))},a.prototype.handleResize=function(){this.setWindowSize(),this.setPreviewList();const a=this.previewList[this.index];this.setCurrentImg(a.x,a.y,a.width,a.height,1,""),this.setWrap();for(let a=0,b=this.imgList.length;a<b;a++){const b=this.previewList[a];b.element=this.imgList[a],b.element.style.width=b.width+"px",b.element.style.height=b.height+"px",this.options.useTransition?(b.element.style.transition="none",b.element.style.transform="translate3d("+b.x+"px, "+b.y+"px, 0) scale(1)"):b.element.style.transform="translate3d("+b.x+"px, "+b.y+"px, 0)",b.element.style.cursor="zoom-in"}this.options.useTransition&&(this.bg.style.transition="none",this.wrap.style.transition="none"),this.bg.style.opacity="1",this.wrap.style.width=this.wrapWidth+"px",this.wrap.style.transform="translate3d("+this.wrapX+"px, 0, 0)",this.tapCount=0,this.bgOpacity=1},a.prototype.handleKeydown=function(a){const b=this.index;"Escape"===a.key?this.close():["ArrowLeft","ArrowUp"].includes(a.key)?0<this.index&&this.index--:["ArrowRight","ArrowDown"].includes(a.key)&&this.index<this.previewList.length-1&&this.index++,b!==this.index&&this.handleWrapSwipe(b)},a.prototype.handleZoom=function(a){const b=this.previewList[this.index];if(1<this.currentImg.scale){if(this.options.useTransition)b.element.style.transition="transform "+this.options.duration+"ms ease-out, opacity "+this.options.duration+"ms ease-out",b.element.style.transform="translate3d("+b.x+"px,"+b.y+"px, 0) scale(1)";else{const a=this.currentImg.width,c=this.currentImg.height,d=this.currentImg.x,e=this.currentImg.y;this.raf(f=>{const g=this.decimal(this.easeOut(a,b.width,f,this.options.duration),2),h=this.decimal(this.easeOut(c,b.height,f,this.options.duration),2),i=this.decimal(this.easeOut(d,b.x,f,this.options.duration),2),j=this.decimal(this.easeOut(e,b.y,f,this.options.duration),2);b.element.style.width=g+"px",b.element.style.height=h+"px",b.element.style.transform="translate3d("+i+"px, "+j+"px, 0)"},this.options.duration)}b.element.style.cursor="zoom-in",this.setCurrentImg(b.x,b.y,b.width,b.height,1,"")}else{const c=this.windowWidth/2,d=this.windowHeight/2,e=this.decimal((a.x-b.x)*b.maxScale,2),f=this.decimal((a.y-b.y)*b.maxScale,2);let g,h;b.maxWidth>this.windowWidth?(g=this.options.zoomToScreenCenter?c-e:a.x-e,0<g?g=0:g<this.windowWidth-b.maxWidth&&(g=this.windowWidth-b.maxWidth)):g=(this.windowWidth-b.maxWidth)/2,g=this.decimal(g,2),b.maxHeight>this.windowHeight?(h=this.options.zoomToScreenCenter?d-f:a.y-f,0<h?h=0:h<this.windowHeight-b.maxHeight&&(h=this.windowHeight-b.maxHeight)):h=(this.windowHeight-b.maxHeight)/2,h=this.decimal(h,2),this.options.useTransition?(b.element.style.transition="transform "+this.options.duration+"ms ease-out, opacity "+this.options.duration+"ms ease-out",b.element.style.transform="translate3d("+g+"px,"+h+"px, 0) scale("+b.maxScale+")"):this.raf(a=>{const c=this.decimal(this.easeOut(b.width,b.maxWidth,a,this.options.duration),2),d=this.decimal(this.easeOut(b.height,b.maxHeight,a,this.options.duration),2),e=this.decimal(this.easeOut(b.x,g,a,this.options.duration),2),f=this.decimal(this.easeOut(b.y,h,a,this.options.duration),2);b.element.style.width=c+"px",b.element.style.height=d+"px",b.element.style.transform="translate3d("+e+"px, "+f+"px, 0)"},this.options.duration),b.element.style.cursor="zoom-out",this.setCurrentImg(g,h,b.maxWidth,b.maxHeight,b.maxScale,"")}this.setIsAnimating(),this.tapCount=0},a.prototype.handlePinch=function(){const a=.7,b=this.previewList[this.index],c={x:this.pointers[0].clientX,y:this.pointers[0].clientY},d={x:this.pointers[1].clientX,y:this.pointers[1].clientY},e=this.getDistance(c,d)/this.getDistance(this.point,this.point2);let f=e/this.lastScale;this.pinchTime=Date.now(),this.currentImg.scale=this.decimal(this.currentImg.scale*f,5),this.currentImg.width=this.decimal(this.currentImg.width*f,2),this.currentImg.height=this.decimal(this.currentImg.height*f,2),this.currentImg.scale>b.maxScale?(this.currentImg.scale=b.maxScale,this.currentImg.width=b.maxWidth,this.currentImg.height=b.maxHeight,f=1):this.currentImg.scale<a&&(this.currentImg.scale=a,this.currentImg.width=this.decimal(b.width*a,2),this.currentImg.height=this.decimal(b.height*a,2),f=1),this.currentImg.status=1>this.currentImg.scale?"shrink":"",this.lastScale=e;const g=this.getCenter(c,d);this.currentImg.x-=(f-1)*(g.x-this.currentImg.x)-g.x+this.lastCenter.x,this.currentImg.y-=(f-1)*(g.y-this.currentImg.y)-g.y+this.lastCenter.y;this.lastCenter=g,this.handleBoundary(),this.options.useTransition?(b.element.style.transition="none",b.element.style.transform="translate3d("+this.currentImg.x+"px, "+this.currentImg.y+"px, 0) scale("+this.currentImg.scale+")"):(b.element.style.width=this.currentImg.width+"px",b.element.style.height=this.currentImg.height+"px",b.element.style.transform="translate3d("+this.currentImg.x+"px, "+this.currentImg.y+"px, 0)")},a.prototype.handleBoundary=function(){this.currentImg.width>this.windowWidth?0<this.currentImg.x?this.currentImg.x=0:this.currentImg.x<this.windowWidth-this.currentImg.width&&(this.currentImg.x=this.windowWidth-this.currentImg.width):this.currentImg.x=(this.windowWidth-this.currentImg.width)/2,this.currentImg.height>this.windowHeight?0<this.currentImg.y?this.currentImg.y=0:this.currentImg.y<this.windowHeight-this.currentImg.height&&(this.currentImg.y=this.windowHeight-this.currentImg.height):this.currentImg.y=(this.windowHeight-this.currentImg.height)/2},a.prototype.getImgSize=function(a,b,c,d){let e,f;return a/b>=c/d?a>c?(e=c,f=c/a*b):(e=a,f=b):b>d?(e=d/b*a,f=d):(e=a,f=b),{width:e,height:f}},a.prototype.getDragDirection=function(){this.dragDirection=Math.abs(this.distance.x)>Math.abs(this.distance.y)?"h":"v"},a.prototype.getDragTarget=function(){let a=!1,b=!1;this.currentImg.width>this.windowWidth?(0<this.diff.x&&0===this.currentImg.x||0>this.diff.x&&this.currentImg.x===this.windowWidth-this.currentImg.width)&&(a=!0):this.currentImg.width>=this.previewList[this.index].width&&(b=!0),this.dragTarget="h"===this.dragDirection&&(a||b)?"wrap":"img"},a.prototype.getDistance=function(a,b){const c=a.x-b.x,d=a.y-b.y;return Math.hypot(c,d)},a.prototype.handleWrapPointermove=function(){if(0<this.wrapX||this.wrapX<-1*(this.previewList.length-1)*this.windowWidth)this.wrapX+=.3*this.diff.x;else{this.wrapX+=this.diff.x;const a=-1*((this.index-1)*this.windowWidth),b=-1*((this.index+1)*this.windowWidth);this.wrapX>a?this.wrapX=a:this.wrapX<b&&(this.wrapX=b)}this.options.useTransition&&(this.wrap.style.transition="none"),this.wrap.style.transform="translate3d("+this.wrapX+"px, 0, 0)"},a.prototype.handleImgPointermove=function(){const a=this.previewList[this.index];this.currentImg.width>this.windowWidth||this.currentImg.height>this.windowHeight?(this.currentImg.x+=this.diff.x,this.currentImg.y+=this.diff.y,this.handleBoundary(),this.currentImg.status="inertia",this.options.useTransition?(a.element.style.transition="none",a.element.style.transform="translate3d("+this.currentImg.x+"px, "+this.currentImg.y+"px, 0) scale("+this.currentImg.scale+")"):a.element.style.transform="translate3d("+this.currentImg.x+"px, "+this.currentImg.y+"px, 0)"):"v"===this.dragDirection&&this.currentImg.width<=a.width&&this.currentImg.height<=a.height&&(this.currentImg.status="verticalToClose",this.bgOpacity=this.decimal(1-Math.abs(this.distance.y)/(this.windowHeight/1.2),5),0>this.bgOpacity&&(this.bgOpacity=0),this.options.verticalZoom?(this.currentImg.scale=this.bgOpacity,this.currentImg.width=this.decimal(a.width*this.currentImg.scale,2),this.currentImg.height=this.decimal(a.height*this.currentImg.scale,2),this.currentImg.x=a.x+this.distance.x+(a.width-this.currentImg.width)/2,this.currentImg.y=a.y+this.distance.y+(a.height-this.currentImg.height)/2):(this.currentImg.x=a.x,this.currentImg.y=a.y+this.distance.y,this.currentImg.scale=1),this.bg.style.opacity=this.bgOpacity,this.options.useTransition?(this.bg.style.transition="none",a.element.style.transition="none",a.element.style.transform="translate3d("+this.currentImg.x+"px, "+this.currentImg.y+"px , 0) scale("+this.currentImg.scale+")"):(a.element.style.width=this.currentImg.width+"px",a.element.style.height=this.currentImg.height+"px",a.element.style.transform="translate3d("+this.currentImg.x+"px, "+this.currentImg.y+"px , 0)"))},a.prototype.handleWrapPointerup=function(){const a=Math.round(.1*this.windowWidth),b=this.index;Math.abs(this.distance.x)>a&&(0<this.distance.x?0<b&&this.index--:0>this.distance.x&&b<this.previewList.length-1&&this.index++),this.handleWrapSwipe(b)},a.prototype.handleImgPointerup=function(){const a=Math.round(.15*this.windowHeight),b=this.previewList[this.index],c=Date.now();if("inertia"===this.currentImg.status&&200>c-this.pointermoveTime&&1e3<c-this.pinchTime)this.handleInertia();else if("verticalToClose"===this.currentImg.status&&Math.abs(this.distance.y)>=a)this.close();else if("shrink"===this.currentImg.status||"verticalToClose"==this.currentImg.status&&Math.abs(this.distance.y)<a){if(this.options.useTransition)b.element.style.transition="transform "+this.options.duration+"ms ease-out, opacity "+this.options.duration+"ms ease-out",b.element.style.transform="translate3d("+b.x+"px, "+b.y+"px, 0) scale(1)",this.bg.style.opacity="1";else{const a=this.bgOpacity,c=this.currentImg.width,d=this.currentImg.height,e=this.currentImg.x,f=this.currentImg.y;this.raf(g=>{const h=this.decimal(this.easeOut(a,1,g,this.options.duration),5);this.bg.style.opacity=h;const i=this.decimal(this.easeOut(c,b.width,g,this.options.duration),2),j=this.decimal(this.easeOut(d,b.height,g,this.options.duration),2),k=this.decimal(this.easeOut(e,b.x,g,this.options.duration),2),l=this.decimal(this.easeOut(f,b.y,g,this.options.duration),2);b.element.style.width=i+"px",b.element.style.height=j+"px",b.element.style.transform="translate3d("+k+"px, "+l+"px, 0)"},this.options.duration)}this.bgOpacity=1,this.setCurrentImg(b.x,b.y,b.width,b.height,1,"")}},a.prototype.handleInertia=function(){const a=this.previewList[this.index],b=this.currentImg.x,c=this.currentImg.y;this.currentImg.x+=15*this.diff.x,this.currentImg.y+=15*this.diff.y,this.handleBoundary();const d=this.currentImg.x,e=this.currentImg.y,f=300;this.options.useTransition?(a.element.style.transition="transform "+f+"ms ease-out",a.element.style.transform="translate3d("+this.currentImg.x+"px, "+this.currentImg.y+"px, 0) scale("+this.currentImg.scale+")"):this.raf(g=>{this.currentImg.x=this.decimal(this.easeOut(b,d,g,f),2),this.currentImg.y=this.decimal(this.easeOut(c,e,g,f),2),a.element.style.transform="translate3d("+this.currentImg.x+"px, "+this.currentImg.y+"px, 0)"},f)},a.prototype.handleWrapSwipe=function(a){const b=this.previewList[a],c={width:this.currentImg.width,height:this.currentImg.height,x:this.currentImg.x,y:this.currentImg.y,scale:this.currentImg.scale,status:this.currentImg.status},d=this.wrapX,e=-1*(this.windowWidth*this.index);if(this.options.useTransition?(a!==this.index&&(b.element.style.transition="transform "+this.options.duration+"ms, opacity "+this.options.duration+"ms",b.element.style.transform="translate3d("+b.x+"px, "+b.y+"px, 0) scale(1)"),this.wrap.style.transition="transform "+this.options.duration+"ms ease-out",this.wrap.style.transform="translate3d("+e+"px, 0, 0)"):this.raf(f=>{if(a!==this.index){const d=this.previewList[a],e=this.decimal(this.easeOut(c.width,b.width,f,this.options.duration),2),g=this.decimal(this.easeOut(c.height,b.height,f,this.options.duration),2),h=this.decimal(this.easeOut(c.x,b.x,f,this.options.duration),2),i=this.decimal(this.easeOut(c.y,b.y,f,this.options.duration),2);d.element.style.width=e+"px",d.element.style.height=g+"px",d.element.style.transform="translate3d("+h+"px, "+i+"px, 0)"}const g=this.decimal(this.easeOut(d,e,f,this.options.duration),2);this.wrap.style.transform="translate3d("+g+"px, 0, 0)"},this.options.duration),a!==this.index){b.element.style.cursor="zoom-in";const a=this.previewList[this.index];this.setCurrentImg(a.x,a.y,a.width,a.height,1,"")}this.wrapX=e,this.counter.innerHTML=this.index+1+" / "+this.previewList.length},a.prototype.decimal=function(a,b){const c=Math.pow(10,b);return Math.round(a*c)/c},a.prototype.getCenter=function(a,b){const c=(a.x+b.x)/2,d=(a.y+b.y)/2;return{x:c,y:d}},a.prototype.easeOut=function(a,b,c,d){return-(b-a)*(c/=d)*(c-2)+a},a.prototype.raf=function(a,b){function c(g){e===void 0&&(e=g);let h=g-e;h>b&&(h=b,f++),1>=f&&(a(h),d.rafId=window.requestAnimationFrame(c))}const d=this;let e,f=0;this.rafId=window.requestAnimationFrame(c)},a.prototype.setIsAnimating=function(){this.isAnimating=!0,setTimeout(()=>{this.isAnimating=!1},this.options.duration)},"function"==typeof define&&define.amd?define(function(){return a}):"object"==typeof module&&"object"==typeof exports?module.exports=a:window.NonameGallery=a})();